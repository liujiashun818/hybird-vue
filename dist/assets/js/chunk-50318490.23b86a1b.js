(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-50318490"],{"4def":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("header",{staticClass:"flex flex-cross-center"},[i("img",{staticClass:"avatar",attrs:{src:t.office.logo,alt:"",onerror:""}}),i("div",{staticClass:"info"},[i("h3",[t._v(t._s(t.office.name))]),i("div",{staticClass:"follow"},[t._v("关注 "+t._s(t.getCount(t.office.likes)))])])]),i("nav",{ref:"nav"},[i("ul",{staticClass:"flex-default"},t._l(t.categoryList,function(e,s){return i("li",{class:{activeItem:t.activeIndex==s},on:{click:function(i){return t.routerPush(e,s)}}},[i("span",[t._v(t._s(e.name))])])}),0)]),t.categoryId&&"desc"!==t.categoryId?i("section",[t.list.length>0?i("ul",t._l(t.list,function(e){return i("li",{on:{click:function(i){return t.goPath(e)}}},["three"===e.viewType?i("div",{staticStyle:{height:"100%"}},[i("h4",{domProps:{innerHTML:t._s(e.title)}}),i("div",{staticClass:"three-list flex"},t._l(e.images,function(t){return i("div",{staticClass:"img",style:{backgroundImage:"url("+t+")"}})}),0)]):"banner"===e.viewType?i("div",{staticStyle:{height:"100%"}},["normal"===e.type?i("div",[i("h3",{domProps:{innerHTML:t._s(e.title)}}),i("div",{staticClass:"pic-wrap"},[i("img",{attrs:{src:e.image,alt:""}})])]):"image"===e.type?i("div",[i("h3",{domProps:{innerHTML:t._s(e.title)}}),i("div",{staticClass:"flex images-list"},[t._l(e.mediaList.slice(0,4),function(t){return i("div",{staticClass:"images",style:{backgroundImage:"url("+t.image+")"}})}),e.mediaList.length>3?i("div",{staticClass:"images-label"},[t._v(t._s(e.mediaList.length)+"图")]):t._e()],2)]):"video"===e.type?i("div",[i("div",{staticClass:"pic-wrap"},[i("img",{attrs:{src:e.image,alt:""}}),i("i",{staticClass:"video-btn"})]),i("h4",{domProps:{innerHTML:t._s(e.title)}})]):"audio"===e.type?i("div",[i("h4",{domProps:{innerHTML:t._s(e.title)}}),i("div",{staticClass:"audio"})]):i("div",[t._v("other")])]):i("div",{staticClass:"flex-default",staticStyle:{height:"100%"}},[e.image?i("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+e.image+")"}},[i("i",{class:[e.type+"-icon"]})]):t._e(),i("div",{staticClass:"info"},[e.tags?i("div",{staticClass:"type ellipsis",domProps:{innerHTML:t._s(e.tags)}}):t._e(),i("div",{staticClass:"title mult_line_ellipsis",domProps:{innerHTML:t._s(e.title)}}),i("div",{staticClass:"flex-default date"},[i("time",[t._v(t._s(t._f("dateCompared")(t.getDate(e.date))))]),i("div",[t._v(t._s(t.getCount(e.comments))+"评")])])])]),"normal"!==e.viewType?i("div",{staticClass:"three-info flex-default"},[i("div",{staticClass:"flex flex-cross-center"},[e.tags?i("div",{staticClass:"tag",domProps:{innerHTML:t._s(e.tags)}}):t._e(),i("time",[t._v(t._s(t._f("dateCompared")(t.getDate(e.date))))])]),i("div",{staticClass:"comment"},[t._v(t._s(t.getCount(e.comments))+"评")])]):t._e(),"normal"===e.type&&"banner"===e.viewType?i("div",{staticClass:"description",domProps:{innerHTML:t._s(e.description)}}):t._e()])}),0):i("div",{staticClass:"desc no-desc"},[t._v("该山西号暂未发布内容")]),t.list.length>0&&1*t.data.page.next<=1*t.data.page.last?i("footer",{on:{click:t.getArticles}},[t._v("加载更多")]):t._e()]):t._e(),"desc"===t.categoryId?i("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.office.description)}}):t._e(),"desc"!==t.categoryId||t.office.description?t._e():i("div",{staticClass:"desc no-desc"},[t._v("暂无简介")])])},a=[],c=i("4964"),n=(i("7209"),i("f144")),o={data:function(){return{data:{page:{next:1,last:99}},office:{},categoryList:[],activeIndex:0,list:[],categoryId:null}},created:function(){this.getInit(this.$route.params.id)},mounted:function(){var t=this;this.$nextTick(function(){t._initScroll()})},methods:{getInit:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;this.$axios.get("".concat(this.$url,"/api/articles/officeArticleList?id=").concat(t,"&size=").concat(i)).then(function(t){var i=t.item;if(0===t.code){e.categoryList=i.categoryList,e.office=i.office,e.categoryList.push({name:"简介",id:"desc"});var s=i.categoryList[0].id;s&&"desc"!==s&&(e.categoryId=s,e.getArticles()),Object(n["a"])({title:e.office.name,imgUrl:e.office.logo},e),e.$store.dispatch("saveData",i)}})},getArticles:function(){var t=this,e=1*this.data.page.next,i=1*this.data.page.last;if(e>i)return!1;this.$axios.get("".concat(this.$url,"/api/articles/articleListByCategory?categoryId=").concat(this.categoryId,"&size=",10,"&pageToken=").concat(e)).then(function(e){var i=e.items;0===e.code&&(t.data=e,t.list=[].concat(Object(c["a"])(t.list),Object(c["a"])(i)))})},routerPush:function(t,e){return this.activeIndex!==e&&(this.activeIndex=e,this.categoryId=t.id,"desc"!==t.id&&(this.data={page:{next:1,last:99}},this.list=[],void this.getArticles()))},getCount:function(t){var e=0;return t>0&&(e=t,t>999999&&(e=t.substring(0,t.length-4)+"万",t>99999999&&(e="过亿"))),e},getDate:function(t){return t.slice(0,-2)+":00"},goPath:function(t){this.$router.push({name:"Detail",params:{type:"gov",id:t.articleId}})},_initScroll:function(){this.navScroll=new this.$BScroll(this.$refs.nav,{click:!0,scrollY:!1,scrollX:!0})}}},l=o,r=(i("6ffe"),i("17cc")),d=Object(r["a"])(l,s,a,!1,null,"1248b34c",null);e["default"]=d.exports},"6ffe":function(t,e,i){"use strict";var s=i("a2fd"),a=i.n(s);a.a},a2fd:function(t,e,i){}}]);
//# sourceMappingURL=chunk-50318490.23b86a1b.js.map