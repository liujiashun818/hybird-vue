(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59b7bb7f"],{"043d":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"wrapper"},[e("div",{staticClass:"top-pic"},[e("img",{attrs:{src:t.data.image,alt:""}})]),e("div",{staticClass:"title-area"},[e("h3",[t._v(t._s(t.data.title))]),e("div",{staticClass:"description"},[t._v(t._s(t.data.description))])]),t._l(t.blocks,function(s,i){return t.blocks&&t.blocks.length?e("section",[e("header",{staticClass:"flex flex-cross-center"},[e("span",[t._v(t._s(i+1))]),t._v("∕"),e("span",[t._v(t._s(t.data.blocks.length))]),e("div",{staticClass:"name"},[t._v(t._s(s.title))])]),e("ul",t._l(s.articles,function(s){return e("li",{staticClass:"flex flex-cross-center flex-main-justify",on:{click:function(e){return t.goPath(s)}}},[s.imageUrl?e("div",{staticClass:"thumbnail",style:{backgroundImage:"url("+s.imageUrl.split(",")[0]+")"}},[e("i",{class:[s.type+"-icon"]})]):t._e(),e("div",{staticClass:"info"},[s.tags?e("div",{staticClass:"type ellipsis",domProps:{innerHTML:t._s(s.tags)}}):t._e(),e("div",{staticClass:"title mult_line_ellipsis",domProps:{innerHTML:t._s(s.title)}}),e("div",{staticClass:"flex flex-cross-center flex-main-justify date"},[e("time",[t._v(t._s(t._f("dateCompared")(t.getDate(s.date))))]),e("div",[t._v(t._s(t.getCount(s.comments))+"评")])])])])}),0),1*s.page.next<=1*s.page.last?e("footer",{on:{click:function(e){return t.getArticles(s.id,i)}}},[t._v("加载更多")]):t._e()]):t._e()})],2)},a=[],n=e("4964"),c=e("f144"),l=(e("6bf2"),e("660a")),o={data:function(){return{data:{},blocks:[]}},created:function(){this.getInit(this.$route.params.articleId)},methods:{getInit:function(t){var s=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;this.$axios.get("/api/v2/subjects/".concat(t,"?size=").concat(e)).then(function(t){var e=t.item;0===t.code?(s.data=e,s.blocks=e.blocks,Object(c["a"])({title:e.title,imgUrl:e.image},s),s.$store.dispatch("saveData",e)):Object(l["Toast"])(t.msg)})},getArticles:function(t,s){var e=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,a=1*this.blocks[s].page.next,c=1*this.blocks[s].page.last;if(a>c)return!1;this.$axios.get("/api/v2/blocks/".concat(t,"?size=").concat(i,"&pageToken=").concat(a)).then(function(t){var i=t.items;0===t.code&&(e.blocks[s].articles=[].concat(Object(n["a"])(e.blocks[s].articles),Object(n["a"])(i)),e.blocks[s].page.next++)})},getDate:function(t){return t.slice(0,-2)+":00"},getTime:function(t){var s="";return t&&(s=t.substring(0,10)+" "+t.substring(11,16)),s},getCount:function(t){var s=0;return t>0&&(s=t,t>999999&&(s=t.substring(0,t.length-4)+"万",t>99999999&&(s="过亿"))),s},goPath:function(t){window.location.href=t.shareUrl}}},r=o,u=(e("39b6"),e("17cc")),d=Object(u["a"])(r,i,a,!1,null,"d1c01b04",null);s["default"]=d.exports},"2fa2":function(t,s,e){},"39b6":function(t,s,e){"use strict";var i=e("2fa2"),a=e.n(i);a.a}}]);
//# sourceMappingURL=chunk-59b7bb7f.ecc25f31.js.map